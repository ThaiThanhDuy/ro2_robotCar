<?xml version="1.0"?>
<robot xmlns:xacro="http://ros.org/wiki/xacro" xmlns="http://www.w3.org/2001/XMLSchema-instance" name="mecanum_robot">

    <xacro:property name="wheel_radius" value="0.1"/>
    <xacro:property name="wheel_separation" value="0.5"/>

    <ros2_control>
        <hardware>
            <joint name="joint_front_left" type="revolute">
                <position_interface />
                <velocity_interface />
            </joint>
            <joint name="joint_front_right" type="revolute">
                <position_interface />
                <velocity_interface />
            </joint>
            <joint name="joint_back_left" type="revolute">
                <position_interface />
                <velocity_interface />
            </joint>
            <joint name="joint_back_right" type="revolute">
                <position_interface />
                <velocity_interface />
            </joint>
        </hardware>

        <controller>
            <joint name="joint_front_left">
                <velocity_interface />
            </joint>
            <joint name="joint_front_right">
                <velocity_interface />
            </joint>
            <joint name="joint_back_left">
                <velocity_interface />
            </joint>
            <joint name="joint_back_right">
                <velocity_interface />
            </joint>
        </controller>
    </ros2_control>

    <link name="base_link">
        <inertial>
            <mass value="1.0"/>
            <inertia ixx="0.1" ixy="0.0" ixz="0.0" iyy="0.1" iyz="0.0" izz="0.1"/>
        </inertial>
        <visual>
            <geometry>
                <box size="1 1 0.1"/>
            </geometry>
        </visual>
    </link>

    <link name="front_left_wheel">
        <inertial>
            <mass value="0.5"/>
            <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
        </inertial>
        <visual>
            <geometry>
                <cylinder radius="${wheel_radius}" length="0.1"/>
            </geometry>
        </visual>
    </link>

    <joint name="joint_front_left" type="revolute">
        <parent link="base_link"/>
        <child link="front_left_wheel"/>
        <origin xyz="${wheel_separation} ${wheel_separation} 0" rpy="0 0 0"/>
        <axis xyz="0 0 1"/>
    </joint>

    <link name="front_right_wheel">
        <inertial>
            <mass value="0.5"/>
            <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
        </inertial>
        <visual>
            <geometry>
                <cylinder radius="${wheel_radius}" length="0.1"/>
            </geometry>
        </visual>
    </link>

    <joint name="joint_front_right" type="revolute">
        <parent link="base_link"/>
        <child link="front_right_wheel"/>
        <origin xyz="${wheel_separation} -${wheel_separation} 0" rpy="0 0 0"/>
        <axis xyz="0 0 1"/>
    </joint>

    <link name="back_left_wheel">
        <inertial>
            <mass value="0.5"/>
            <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
        </inertial>
        <visual>
            <geometry>
                <cylinder radius="${wheel_radius}" length="0.1"/>
            </geometry>
        </visual>
    </link>

    <joint name="joint_back_left" type="revolute">
        <parent link="base_link"/>
        <child link="back_left_wheel"/>
        <origin xyz="-${wheel_separation} ${wheel_separation} 0" rpy="0 0 0"/>
        <axis xyz="0 0  1"/>
    </joint>

    <link name="back_right_wheel">
        <inertial>
            <mass value="0.5"/>
            <inertia ixx="0.01" ixy="0.0" ixz="0.0" iyy="0.01" iyz="0.0" izz="0.01"/>
        </inertial>
        <visual>
            <geometry>
                <cylinder radius="${wheel_radius}" length="0.1"/>
            </geometry>
        </visual>
    </link>

    <joint name="joint_back_right" type="revolute">
        <parent link="base_link"/>
        <child link="back_right_wheel"/>
        <origin xyz="-${wheel_separation} -${wheel_separation} 0" rpy="0 0 0"/>
        <axis xyz="0 0 1"/>
    </joint>

</robot>